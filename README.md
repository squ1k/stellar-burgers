# 3 курс
# Шутов Кирилл Вячеславович

# Проектная работа 11-го спринта

[Макет](<https://www.figma.com/file/vIywAvqfkOIRWGOkfOnReY/React-Fullstack_-Проектные-задачи-(3-месяца)_external_link?type=design&node-id=0-1&mode=design>)

[Чеклист](https://www.notion.so/praktikum/0527c10b723d4873aa75686bad54b32e?pvs=4)

## Этапы работы:

1. Разверните проект и ознакомьтесь с кодом. Все необходимые вам компоненты уже созданы и лежат в папке `src/components`

2. Настройте роутинг.

3. Напишите функционал запросов данных с сервера, используя `Redux` и глобальный `store`. Сами "ручки" уже прописаны и лежат в `utils/burger-api.ts`

4. Настройте авторизацию и создайте защищённые роуты.

## Функциональные требования:
- Редактирование данных пользователя работает корректно:

    - На странице профиля пользователя в поля формы подставляются данные пользователя. Если пользователь отредактировал данные в форме, появляются кнопки «Отмена» и «Сохранить».

    - При нажатии кнопки «Сохранить» на странице профиля пользователя отправляется соответствующий запрос к API, который содержит изменённые данные.

    - При нажатии кнопки «Отмена» значения полей формы возвращаются в состояние до редактирования, а кнопки «Отмена» и «Сохранить» скрываются.

    - В шапке панели навигации активна та ссылка на маршрут, где сейчас находится пользователь. Ссылка остаётся активной, если пользователь попадает на вложенные динамические маршруты.

    - При клике на пункт «История заказов» происходит переход на экран /profile/orders, ссылка «История заказов» становится активной, экран /profile/orders пока отображается пустым.

    - При клике по ингредиенту происходит переход на маршрут /ingredients/:id и открывается модальное окно с описанием ингредиента. При прямом переходе на этот маршрут открывается страница с информацией об ингредиенте.

    - Заказы могут делать только авторизованные пользователи, все остальные действия доступны и неавторизованным.

    - События отправки форм отслеживаются по onSubmit формы.

- Экран «Лента заказов» работает корректно:

    - Отображается по маршруту /feed, доступен всем пользователям.

    - Обновляется в режиме реального времени, когда авторизованный пользователь создаёт заказ. Содержит подсчёт стоимости каждого заказа, исходя из стоимости его ингредиентов.

    - Отображает количество всех заказов, а также количество заказов за день.

- Экран «История заказов» работает корректно:

    - Отображается по маршруту /profile/orders, доступен только авторизованным пользователям.

    - Обновляется в режиме реального времени и отображает статусы заказов.

    - Содержит подсчёт стоимости каждого заказа, исходя из стоимости его ингредиентов. Статусы «Отменён», «Готовится» и «Выполнен» формируются в зависимости от значения поля status каждого заказа.

- При клике по заказу открывается модальное окно с информацией о заказе и происходит переход на маршрут /feed/:id или /profile/orders/:id — в зависимости от того, на какой странице пользователь кликнул по заказу. При прямом переходе на эти маршруты открывается страница заказа.

- Маршрут /profile/orders/:id доступен только авторизованным пользователям.


## Важно:

Для корректной работы запросов к серверу необходимо добавить переменную BURGER_API_URL в окружение. Сама ссылка находится в файле `.env.example`.
